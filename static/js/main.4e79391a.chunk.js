(this["webpackJsonponline-edocument-show"]=this["webpackJsonponline-edocument-show"]||[]).push([[0],{37:function(e,t,n){"use strict";(function(e){var l=n(17),a=n.n(l),i=n(21),o=n(22),r=n(11),c=n(27),s=n(26),m=n(0),u=n.n(m),h=n(33),d=n(4),f=n(43),p=n(46),g=n(73),v=n(29),x=n(31),F=n.n(x),w=n(32),S=n.n(w),E=n(71),b=n(44),k={lvl1:{display:"flex"},lvl2:{flexGrow:"1",maxWidth:"100%",overflowX:"hidden"},lvl3:{display:"flex",flexDirection:"column",overflow:"hidden",transition:"transform 195ms",minHeight:"95vh"},mainroot:{margin:"15px"},InoviceRoot:{position:"relative",margin:"auto",width:"850px"},root:{marginTop:"8px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:Object(h.a)().spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},actions:{marginTop:"8px",textAlign:"center"},actionButton:{marginRight:"5px"}},y=function(t){Object(c.a)(l,t);var n=Object(s.a)(l);function l(t){var r;return Object(o.a)(this,l),(r=n.call(this,t)).buildFileSelector=function(){var e=document.createElement("input");return e.setAttribute("type","file"),e.setAttribute("multiple","multiple"),e},r.componentDidMount=function(){r.fileSelectorXml=r.buildFileSelector(),r.fileSelectorXml.onchange=function(e){return r.onHandleXmlFileSelectorChange(e)},r.fileSelectorXslt=r.buildFileSelector(),r.fileSelectorXslt.onchange=function(e){return r.onHandleXsltFileSelectorChange(e)}},r.onHandleXmlFileSelectorChange=function(e){r.setState({xmlFilePath:e.target.files[0].name});var t=e.target.files[0],n=new FileReader;try{n.onload=function(e){r.setState({xmlFile:e.target.result})},n.readAsText(t)}catch(l){r.setState({xmlFilePath:"",xmlFile:null})}},r.onHandleXsltFileSelectorChange=function(e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){r.setState({xsltFilePath:e.target.files[0].name});var t=e.target.files[0],n=new FileReader;try{n.onload=function(e){r.setState({xsltFile:e.target.result})},n.readAsText(t)}catch(l){r.setState({xsltFilePath:"",xsltFile:null})}}else alert("Your browser is too old to support HTML5 File API")},r.onXmlFileClear=function(){r.fileSelectorXml.value="",r.setState({xmlFile:null,xmlFilePath:""})},r.onXsltFileClear=function(){r.fileSelectorXslt.value="",r.setState({xsltFile:null,xsltFilePath:""})},r.handleXmlFileSelect=function(e){e.preventDefault(),r.fileSelectorXml.click()},r.handleXsltFileSelect=function(e){e.preventDefault(),r.fileSelectorXslt.click()},r.pdfSettings=function(){return{landscape:!1,marginsType:0,printBackground:!1,printSelectionOnly:!1,pageSize:"A4"}},r.shortDate=function(){var e=(new Date).toLocaleString();return e=(e=(e=e.split(" ").join("-")).split(".").join("-")).split(":").join("-")},r.onSaveClick=Object(i.a)(a.a.mark((function e(){var t,n,l,i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.resultInvoice){e.next=10;break}return t=window.require("fs"),n=window.require("electron"),l=n.remote.BrowserWindow,i=new l({width:900,height:680,webPreferences:{nodeIntegration:!0},show:!1}),o=n.app||n.remote.app,c=o.getPath("desktop"),e.next=9,t.writeFile(c+"/tempEInvoice.html",r.state.resultInvoice,(function(e){e&&alert("Hata"),console.log("file:///"+c+"/tempEInvoice.html"),i.loadURL("file:///"+c+"/tempEInvoice.html")}));case 9:i.webContents.on("did-finish-load",(function(){i.webContents.printToPDF(r.pdfSettings()).then((function(e){t.writeFile(o.getPath("desktop")+"/"+r.shortDate()+".pdf",e,(function(e){e&&(console.log(e),t.unlink(c+"/tempEInvoice.html",(function(e){if(e)throw e;console.log("File deleted!")})),i.close()),console.log("Write PDF successfully."),i.close()}))})).catch((function(e){console.log(e),i.close()}))}));case 10:case"end":return e.stop()}}),e)}))),r.onShowClick=function(){if(r.state.xmlFilePath){var t=new DOMParser,n=t.parseFromString(r.state.xmlFile,"text/xml"),l=null,a=n.getElementsByTagName("cbc:EmbeddedDocumentBinaryObject")[0].textContent;l=void 0===a||""!==r.state.xsltFilePath&&null!==r.state.xsltFilePath?t.parseFromString(r.state.xsltFile,"text/xml"):t.parseFromString(e.from(a,"base64").toString("utf-8"),"text/xml");var i=new XSLTProcessor;i.importStylesheet(l);var o=i.transformToFragment(n,document);null!=o&&(document.getElementById("example").innerHTML="",document.getElementById("example").appendChild(o),r.setState({resultInvoice:document.getElementById("example").innerHTML}))}},r.onInputChange=function(e){r.setState({xmlFilePath:e.target.value})},r.state={xmlFilePath:null,xsltFilePath:null,xmlFile:null,xsltFile:null,resultInvoice:null},r}return Object(r.a)(l,[{key:"render",value:function(){var e=this.props.classes;return u.a.createElement("div",{className:e.lvl1},u.a.createElement("div",{className:e.lvl2},u.a.createElement("div",{className:e.lvl3},u.a.createElement(E.a,{maxWidthXl:!0},u.a.createElement("div",{className:e.mainroot},u.a.createElement(f.a,{component:"form",className:e.root},u.a.createElement(p.a,{className:e.input,placeholder:"Xml Dosyas\u0131n\u0131 Se\xe7",value:this.state.xmlFilePath,disabled:!0}),u.a.createElement(v.a,{className:e.iconButton,"aria-label":"folder",onClick:this.handleXmlFileSelect},u.a.createElement(F.a,null)),u.a.createElement(v.a,{className:e.iconButton,"aria-label":"folder",onClick:this.onXmlFileClear},u.a.createElement(S.a,null))),u.a.createElement(f.a,{component:"form",className:e.root},u.a.createElement(p.a,{className:e.input,placeholder:"Xslt Dosyas\u0131n\u0131 Se\xe7",value:this.state.xsltFilePath,disabled:!0}),u.a.createElement(v.a,{className:e.iconButton,"aria-label":"folder",onClick:this.handleXsltFileSelect},u.a.createElement(F.a,null)),u.a.createElement(v.a,{className:e.iconButton,"aria-label":"folder",onClick:this.onXsltFileClear},u.a.createElement(S.a,null))),u.a.createElement(g.a,{orientation:"horizontal",variant:"fullWidth"}),u.a.createElement("div",{className:e.actions},u.a.createElement(b.a,{className:e.actionButton,variant:"contained",color:"primary",onClick:this.onShowClick},"Faturay\u0131 G\xf6ster"),u.a.createElement(b.a,{className:e.actionButton,variant:"contained",color:"primary",onClick:this.onSaveClick},"Faturay\u0131 Kaydet")),u.a.createElement("div",null,u.a.createElement("div",{className:e.InoviceRoot,id:"example"})))))))}}]),l}(m.Component);t.a=Object(d.a)(k)(y)}).call(this,n(59).Buffer)},51:function(e,t,n){e.exports=n(69)},56:function(e,t,n){},58:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),i=n(14),o=n.n(i),r=(n(56),n(17)),c=n.n(r),s=n(21),m=n(22),u=n(11),h=n(27),d=n(26),f=(n(58),n(93)),p=n(33),g=n(96),v=n(94),x=n(95),F=n(37),w=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).toggleDarkTheme=function(){var t="light"===e.state.theme.palette.type?"dark":"light";e.setState({theme:{palette:{type:t}}})},e.handleSwitchChange=function(t){e.toggleDarkTheme(),e.setState({switchCheck:t.target.checked})},e.state={switchCheck:!1,theme:{palette:{type:"light"}}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(p.a)(this.state.theme),t=Object(g.a)(e);return a.a.createElement(f.a,{theme:t},a.a.createElement(v.a,null),a.a.createElement(x.a,{checked:this.state.switchCheck,onChange:this.handleSwitchChange}),a.a.createElement(F.a,null))}}]),n}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.4e79391a.chunk.js.map